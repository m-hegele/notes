# Brusa OCPP 2.0.1 Tests

Steps: local ocppproxy

```
ssh -R 0.0.0.0:9010:localhost:9010 pi@elinor.ctl.chargehere.de
```

```
./local_ocppproxy_with_dir brusa-test
```

```
./ems_gui_client
```

```
./cpcli -a info --complete
```

open local config tool

- turn off use_real_currents


## Network

```
pi@elinor:~ $ cat /etc/network/interfaces.d/ch-interfaces
# we have to use "auto eth1" to make sure that eth1 is respected by systemd in the network-online.target
# so that the kea-dhcp4-server doesn't start too early
# we shouldn't additionally use a post-up rule that restarts the kea-dhp4-server, because
# that would cause a cyclic dependency and a failing network-online.target

# auto eth1
# iface eth1 inet static
#     address 10.11.69.250
#     netmask 255.255.255.0


# auto eth1
# iface eth1 inet dhcp

auto eth1
iface eth1 inet static
    address 172.23.0.1
    netmask 255.255.0.0
```

##  Test day @ Munich

GA: 172.23.6.16 b8:f4:4f:2b:6d:5d
NB Marck: 172.23.4.164

- DHCP: default gateway communicated (router option)

firwall:
```
# Change: allow rest requests on eth1 for connectivity check
iptables -A INPUT -s $SUBNET_IP -d $SUBNET_IP -i $SUBNET_IFACE -p tcp --dport 8080 -j ACCEPT

# Change: Allow HTTP/S traffic from subnet to internet
iptables -A FORWARD -s $SUBNET_IP -o $OUTGOING_IFACE -p tcp --dport 80 -j ACCEPT
iptables -A FORWARD -s $SUBNET_IP -o $OUTGOING_IFACE -p tcp --dport 443 -j ACCEPT
```

- [x] minimum current / power?  690 W
- [ ] firmware update over HTTP(S): CHC-278
- [ ] is it input or output power?
