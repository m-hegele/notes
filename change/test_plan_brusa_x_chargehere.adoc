= Test Plan: Brusa AWC x ChargeControl
Marius Hegele, <m.hegele@chargehere.de>
1.0, 8-27-2025

:counter: 0

[cols="1,4,6,6,2", options="header"]
|===
| #
| Action
| Expected Result on AWC
| Expected Result on ChargeControl
| Status (Pass / Fail)

| {counter:count}
| Connect AWC & ChargeControl
a|
* Boot Notification accepted
* TxDefaultProfile with 690 W received
a|
* Boot Notification received
* Configuration is synchronized
* Charger is configured (Config-Tool)
* Charger shown with Status Available in monitoring
| 

| {counter:count}
| Set available capacity to 0 kW in ChargeControl
a|
a|
* Capacity shown with 0 kW in monitoring
|

| {counter:count}
| Vehicle arrives
a|
a|
* Status changes to Preparing (= translation of Occupied in OCPP 2.0.1) in monitoring
| 

| {counter:count}
| Start a transaction (if this can be separated from step above)
a|
* TransactionEvent request is accepted
* Receives SetChargingProfile Request with 690 W
* Vehicle does not charge
a|
* Receives TransactionEvent with reason ChargingStateChanged and ChargingState = Charging (minimum current of 690 W applies)
* Status changes to Charging in monitoring
* Sampled Meter Values are received: session energy increases, currents are 1 A per phase in monitoring
* Active transaction is shown in monitoring
|

| {counter:count}
| Increase capacity to 5 kW in ChargeControl
a|
* Receives SetChargingProfile with 5 kW
* Vehicle charges with ~ 5 kW
a|
* Status changes to Charging in monitoring
* Power consumption is ~ 5 kW in monitoring
|

| {counter:count}
| Increase capacity to 11 kW in ChargeControl
a|
* Receives SetChargingProfile with 11 kW
* Vehicle charges with ~ 11 kW
a|
* Power consumption is ~ 11 kW in monitoring
|

| {counter:count}
| Set capacity to 0 kW in ChargeControl
a|
* Receives SetChargingProfile with 0 kW
* Vehicle stops charging
a|
* Status changes to SuspendedEVSE in monitoring
* No power consumption in monitoring
|

| {counter:count}
| Set capacity back to 11 kW in ChargeControl
a|
* Receives SetChargingProfile with 11 kW
* Vehicle starts charging again
a|
* Status switches back to Charging in monitoring
* Power consumption is ~ 11 kW in monitoring
|

| {counter:count}
| Simulate full vehicle: stop charging on vehicle side
a|
* Vehicle stops charging
* Receives SetChargingProfile with 4.14 kW (= 6A suspended current)
a|
* Receives TransactionEvent with reason ChargingStateChanged and ChargingState = SuspendedEV
* Status switches to SuspendedEV in monitoring
* No power consumption in monitoring
|

| {counter:count}
| Start charging again on vehicle side
a|
* Vehicle resumes charging
* Receives SetChargingProfile with 11 kW
a|
* Receives TransactionEvent with reason ChargingStateChanged and ChargingState = Charging
* Status switches to Charging in monitoring
* Power consumption is ~ 11 kW in monitoring
|

| {counter:count}
| Stop Transaction (if this can be separated from step below)
a|
* Stop Transaction request is accepted
* Vehicle stops charging
a|
* Receives Stop TransactionEvent
* Status switches to Preparing (= OCPP 2.0.1 translation of Occupied) in monitoring
* Power consumption is 0 kW in monitoring
|

| {counter:count}
| Vehicle departs
a|
a|
* Receives StatusNotification with Status = Available
* Status switches to Available in monitoring
|

|===
